

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.1. Galera Parameters &mdash; galera 1.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="galera 1.0.1 documentation" href="index.html" />
    <link rel="up" title="4. Reference" href="reference.html" />
    <link rel="prev" title="4. Reference" href="reference.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="reference.html" title="4. Reference"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">galera 1.0.1 documentation</a> &raquo;</li>
          <li><a href="reference.html" accesskey="U">4. Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="galera-parameters">
<h1>4.1. Galera Parameters<a class="headerlink" href="#galera-parameters" title="Permalink to this headline">¶</a></h1>
<p id="id1">As of version 0.8 Galera accepts parameters as semicolon-separated
key value pair lists, such as <tt class="docutils literal"><span class="pre">key1</span> <span class="pre">=</span> <span class="pre">value1;</span> <span class="pre">key2</span> <span class="pre">=</span> <span class="pre">value2</span></tt>.
In this way, you can configure an arbitrary number of Galera parameters
in one call. A key consists of parameter group and parameter name:</p>
<p><tt class="docutils literal"><span class="pre">&lt;group&gt;.&lt;name&gt;</span></tt></p>
<p>Where <tt class="docutils literal"><span class="pre">&lt;group&gt;</span></tt> roughly corresponds to some Galera module.</p>
<p>Table legend:</p>
<ul class="simple">
<li><em>Numeric values</em>—Galera understand the following numeric modifiers:
K, M, G, T standing for 2<sup>10</sup>, 2<sup>20</sup>, 2<sup>30</sup> and 2<sup>40</sup> respectively.</li>
<li><em>Boolean values</em>—Galera accepts the following boolean values: 0, 1, yes, no, true, false, on, off.</li>
<li>Time periods must be expressed in the ISO8601 format. See also the examples below.</li>
<li><tt class="docutils literal"><span class="pre">(R)</span></tt> marks parameters that can be changed during runtime.</li>
</ul>
<p>A test on documenting options in a table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="20%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">protonet.backend</span></tt></td>
<td><em>asio</em></td>
<td>Which transport backend to use. Currently only
ASIO is supported.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">protonet.version</span></tt></td>
<td><em>0</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">socket.ssl_cert</span></tt></td>
<td>&nbsp;</td>
<td>A path (absolute or relative to the working dir)
to an SSL certificate (in PEM format).</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">socket.ssl_key</span></tt></td>
<td>&nbsp;</td>
<td>A path (absolute or relative to the working dir) to
a private key for a certificate (in PEM format).</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">socket.ssl_compression</span></tt></td>
<td><em>yes</em></td>
<td>Whether to enable compression on SSL connections.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">socket.ssl_cipher</span></tt></td>
<td><em>AES128-SHA</em></td>
<td>Symmetric cipher to use. AES128 is used by default
it is considerably faster and no less secure than
AES256.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">gmcast.listen_addr</span></tt></td>
<td><em>tcp://0.0.0.0:4567</em></td>
<td>Address at which Galera listens to connections
from other nodes. By default the port to listen at
is taken from the connection address. This setting
can be used to overwrite that.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">gmcast.mcast_addr</span></tt></td>
<td>&nbsp;</td>
<td><p class="first">If set, UDP multicast will be used for replication,
for example:</p>
<div class="highlight-python"><pre>``gmcast.mcast_addr=239.192.0.11``</pre>
</div>
<p class="last">The value must be the same on all nodes.</p>
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">gmcast.mcast_ttl</span></tt></td>
<td><em>1</em></td>
<td>Time to live value for multicast packets.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">gmcast.peer_timeout</span></tt></td>
<td><em>PT3S</em></td>
<td>Connection timeout to initiate message relaying.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">gmcast.time_wait</span></tt></td>
<td><em>PT5S</em></td>
<td>Time to wait until allowing peer declared outside
of stable view to reconnect.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">gmcast.version</span></tt></td>
<td><em>0</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.causal_keepalive_period</span></tt></td>
<td>&nbsp;</td>
<td>For developer use only. Defaults to
<tt class="docutils literal"><span class="pre">evs.keepalive_period</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">evs.consensus_timeout</span></tt></td>
<td><em>PT30S</em></td>
<td><p class="first">Timeout on reaching the consensus about cluster
membership.</p>
<p class="last"><strong>Deprecated</strong> See <tt class="docutils literal"><span class="pre">evs.install_timeout</span></tt>.</p>
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.debug_log_mask</span></tt> <strong>(R)</strong></td>
<td><em>0x1</em></td>
<td>Control EVS debug logging, only effective when
<tt class="docutils literal"><span class="pre">wsrep_debug</span></tt> is in use.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">evs.inactive_check_period</span></tt></td>
<td><em>PT1S</em></td>
<td>How often to check for peer inactivity.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.inactive_timeout</span></tt></td>
<td><em>PT15S</em></td>
<td>Hard limit on the inactivity period, after which
the node is pronounced dead.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">evs.info_log_mask</span></tt></td>
<td><em>0</em></td>
<td><p class="first">Control extra EVS info logging. Bits:</p>
<ul class="last">
<li><p class="first"><em>0x1</em>—extra view change info</p>
</li>
<li><p class="first"><em>0x2</em>—extra state change info</p>
</li>
<li><p class="first"><em>0x4</em>—statistics</p>
</li>
<li><dl class="first docutils">
<dt><em>0x8</em>—profiling (only in builds with</dt>
<dd><p class="first last">profiling enabled)</p>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.install_timeout</span></tt> <strong>(R)</strong></td>
<td><em>PT15S</em></td>
<td>Timeout on waiting for install message
acknowledgments. Successor to
<tt class="docutils literal"><span class="pre">evs.consensus_timeout</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">evs.join_retrans_period</span></tt> <strong>(R)</strong></td>
<td><em>PT1S</em></td>
<td>How often to retransmit EVS join messages when
forming cluster the membership.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.keepalive_period</span></tt></td>
<td><em>PT1S</em></td>
<td>How often to emit keepalive beacons (in the
absence of any other traffic).</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">evs.max_install_timeouts</span></tt></td>
<td><em>1</em></td>
<td>How many membership install rounds to try before
giving up (total rounds will be
<tt class="docutils literal"><span class="pre">evs.max_install_timeouts</span></tt> + 2).</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.send_window</span></tt> <strong>(R)</strong></td>
<td><em>4</em></td>
<td>Maximum packets in replication at a time. For WAN
setups may be set considerably higher, e.g. 512.
Must be no less than <tt class="docutils literal"><span class="pre">evs.user_send_window</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">evs.stats_report_period</span></tt></td>
<td><em>PT1M</em></td>
<td>Control period of EVS statistics reporting.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.suspect_timeout</span></tt></td>
<td><em>PT5S</em></td>
<td>Inactivity period after which the node is
<em>suspected</em> to be dead. If all remaining nodes
agree on that, the node is dropped out of cluster
before <tt class="docutils literal"><span class="pre">evs.inactive_timeout</span></tt> is reached.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">evs.use_aggregate</span></tt></td>
<td><em>true</em></td>
<td>Aggregate small packets into one, when possible.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.user_send_window</span></tt> <strong>(R)</strong></td>
<td><em>2</em></td>
<td>Maximum data packets in replication at a time.
For WAN setups, this calue can be set considerably
higher, to, for example, 512.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">evs.view_forget_timeout</span></tt></td>
<td><em>PT5M</em></td>
<td>Drop past views from the view history after this
timeout.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">evs.version</span></tt></td>
<td><em>0</em></td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">pc.bootstrap</span></tt></td>
<td>&nbsp;</td>
<td>If you set this value to <em>true</em> is a signal to
turn a <tt class="docutils literal"><span class="pre">NON-PRIMARY</span></tt> compoment into <tt class="docutils literal"><span class="pre">PRIMARY</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">pc.checksum</span></tt></td>
<td><em>true</em></td>
<td>Checksum replicated messages.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">pc.ignore_sb</span></tt> <strong>(R)</strong></td>
<td><em>false</em></td>
<td>Should we allow nodes to process updates even in
the case of split brain? This is a dangerous
setting in multi-master setup, but should simplify
things in master-slave cluster (especially if only
2 nodes are used).</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">pc.ignore_quorum</span></tt> <strong>(R)</strong></td>
<td><em>false</em></td>
<td>Completely ignore quorum calculations. For
example if the master splits from several slaves
it still remains operational. Use with extreme
caution even in master-slave setups, as slaves
will not automatically reconnect to master in this
case</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">pc.linger</span></tt></td>
<td><em>PT2S</em></td>
<td>The period for which the PC protocol waits for the
EVS termination.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">pc.npvo</span></tt></td>
<td><tt class="docutils literal"><span class="pre">false</span></tt></td>
<td>If set to <tt class="docutils literal"><span class="pre">true</span></tt>, the more recent primary
component overrides older ones in the case of
conflicting primaries.</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>A test on documenting options in man page style:</p>
<div class="section" id="status-variables">
<h2>4.1.1. Status Variables<a class="headerlink" href="#status-variables" title="Permalink to this headline">¶</a></h2>
<p id="id2"><tt class="docutils literal"><span class="pre">wsrep_notify_cmd</span></tt></p>
<p>This command is run whenever the cluster membership or state
of this node changes. This option can be used to (re)configure
load balancers, raise alarms, and so on. The command passes on
one or more of the following options:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--status <var>&lt;status str&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td><p class="first">The status of this node. The possible statuses are:</p>
<ul class="last simple">
<li><em>Undefined</em>—The node has just started up
and is not connected to any primary component</li>
<li><em>Joiner</em>—The node is connected to a primary
component and now is receiving state snapshot.</li>
<li><em>Donor</em>—The node is connected to primary
component and now is sending state snapshot.</li>
<li><em>Joined</em>—The node has a complete state and
now is catching up with the cluster.</li>
<li><em>Synced</em>—The node has synchronized itself
with the cluster.</li>
<li><em>Error(&lt;error code if available&gt;)</em>—The node
is in an error state.</li>
</ul>
</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--uuid <var>&lt;state UUID&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The cluster state UUID.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--primary <var>&lt;yes/no&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Whether the current cluster component is primary or not.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--members <var>&lt;list&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td><p class="first">A comma-separated list of the component member UUIDs.
The members are presented in the following syntax:</p>
<ul class="last simple">
<li><tt class="docutils literal"><span class="pre">&lt;node</span> <span class="pre">UUID&gt;</span></tt>—A unique node ID. The wsrep
provider automatically assigns tjhis ID for each node.</li>
<li><tt class="docutils literal"><span class="pre">&lt;node</span> <span class="pre">name&gt;</span></tt>—The node name as it is set in the
<tt class="docutils literal"><span class="pre">wsrep_node_name</span></tt> option.</li>
<li><tt class="docutils literal"><span class="pre">&lt;incoming</span> <span class="pre">address&gt;</span></tt>—The address for client
connections as it is set in the <tt class="docutils literal"><span class="pre">wsrep_node_incoming_address</span></tt>
option.</li>
</ul>
</td></tr>
</tbody>
</table>
<p>Click this link <a class="reference external" href="http://bazaar.launchpad.net/~codership/codership-mysql/wsrep-5.5/view/head:/support-files/wsrep_notify.sh">link</a>
to view an example script that updates two tables
on the local node with changes taking place at the
cluster.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4.1. Galera Parameters</a><ul>
<li><a class="reference internal" href="#status-variables">4.1.1. Status Variables</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="reference.html"
                        title="previous chapter">4. Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/galeraparameters.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="reference.html" title="4. Reference"
             >previous</a> |</li>
        <li><a href="index.html">galera 1.0.1 documentation</a> &raquo;</li>
          <li><a href="reference.html" >4. Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Tommi Takkunen-Lauri.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>