

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.4. Enabling SSL &mdash; galera 1.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="galera 1.0.1 documentation" href="index.html" />
    <link rel="up" title="3. Administration Guide" href="userguide.html" />
    <link rel="next" title="3.5. Firewall Settings" href="firewallsettings.html" />
    <link rel="prev" title="3.3. Monitoring the Cluster" href="monitoringthecluster.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="firewallsettings.html" title="3.5. Firewall Settings"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="monitoringthecluster.html" title="3.3. Monitoring the Cluster"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">galera 1.0.1 documentation</a> &raquo;</li>
          <li><a href="userguide.html" accesskey="U">3. Administration Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="enabling-ssl">
<h1>3.4. Enabling SSL<a class="headerlink" href="#enabling-ssl" title="Permalink to this headline">Â¶</a></h1>
<p id="id1">Galera library supports <abbr title="Secure Sockets Layer">SSL</abbr>
for the encryption of replication traffic. SSL is a cluster-wide
option and must be enabled either on all of the nodes or none
at all.</p>
<p>To use SSL, you must generate a private certificate/key pair
for the cluster, for example, by the following command:</p>
<div class="highlight-python"><pre>$ openssl req -new -x509 -days 365000 -nodes -keyout key.pem -out cert.pem</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is crucial to generate a certificate/key pair, which is valid
for a long time. When the certificate expires, there will be no
way to update the cluster without complete shutdown. Thus, use a
large value for the the <tt class="docutils literal"><span class="pre">-days</span></tt> parameter.</p>
</div>
<p>Copy this certificate/key pair to all of the nodes and take it to use
by specifying the following Galera options:</p>
<div class="highlight-python"><pre>socket.ssl_cert = &lt;path_to_cert_file&gt;; socket.ssl_key = &lt;path_to_key_file&gt;</pre>
</div>
<p>Other SSL configuration parameters include <tt class="docutils literal"><span class="pre">socket.ssl_compression</span></tt> and
<tt class="docutils literal"><span class="pre">socket.ssl_cipher</span></tt>. See <a class="reference internal" href="galeraparameters.html#id1"><em>Galera Parameters</em></a>
for details.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Galera SSL support only covers Galera communication. Since state
snapshot transfer happens outside of Galera, protect it separately.
You can use, for example, the internal SSL support in the MySQL
client or the <strong>stunnel</strong> program to protect <em>rsync</em> traffic.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="monitoringthecluster.html"
                        title="previous chapter">3.3. Monitoring the Cluster</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="firewallsettings.html"
                        title="next chapter">3.5. Firewall Settings</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/ssl.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="firewallsettings.html" title="3.5. Firewall Settings"
             >next</a> |</li>
        <li class="right" >
          <a href="monitoringthecluster.html" title="3.3. Monitoring the Cluster"
             >previous</a> |</li>
        <li><a href="index.html">galera 1.0.1 documentation</a> &raquo;</li>
          <li><a href="userguide.html" >3. Administration Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Tommi Takkunen-Lauri.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>